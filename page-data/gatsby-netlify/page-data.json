{"componentChunkName":"component---src-templates-post-js","path":"/gatsby-netlify","result":{"data":{"site":{"siteMetadata":{"title":"gatsby-starter-point","author":"George Brown"}},"markdownRemark":{"id":"ccddd19e-3118-5586-a877-5215f3a1214f","excerpt":"( Demo || Code ) Note: æœ¬æ–‡ç”± Build an Infinite Scroll Image Gallery with Gatsby and Netlify Functions ç¿»è¯‘è€Œæ¥ï¼Œæ•¬è¯·é˜…è¯»åŸæ–‡ å¦‚ä»Šé™æ€é¡µé¢æˆ–è€… JAMStackâ€¦","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACgklEQVQoz3WRbUhTYRiGh31CSJIYJmoEUoKIuGlYFhmBCOXUZrpyos2OaUVRMzJ/VDY/RrpMTWXNJDStgRlTmpT/RP0VRBCSiWgfG45h2g+nmx9XZ4cCC73h5nnOzftcvOd5Zee1WgRtPhnp6aSJTvfVtDSUSqXUb2TfmbX9X8vcbjcLCwvMz8/jcrlwOBxSnZ2bw26343Q6Jfvy6elpyXb7D7GKmX2CuVmnNO92z+NjyVijr84ZJkWPTn7nuaVb7H8y7nDxcXwKq9VKV1cXAwMDdHR0oNfrMZufSN9rJVtdXcXnpeVlPk/Z+eKYIeNMNjKZDEOjiQ/fXAx/Gqevrw+j0UhhYSFxcXEoFAq04rosFosEWhbnfRwJ6JPH4+FN/zvej05Q12Jm65bNKOLjMXd20/mql5GREXp6ehAEgXgxl8vlJCcnY7PZpPmVlZV/gV6vl/vl5eKvVPK0/QWZmWpUp1UcTzrGReECY2NjDA0N09bWRk6OhlRlKmFhYRgMhg1uuLhIzUMjpWUlVBv01NRWYxJ39KixhcfNJnp7rbS2mmlqaiJXk4s6M4u4WAW6G7r1gd4lL1X1Vdy6J/DsZRMPGm7ydtCG/ZebbttrIg6EEBDkR8je7SQmBnLicDixkYHorgp/gEtrgL6HEcN2i4mG5tvUNVdjqNTRP9hPncnAyYwEcZ+RBIf6c+RoKLqScK6X7iGvYBv1DQXrAEW53QtUGMu4U1tCfUsV5SUCxYIaeVQ4B2P2c1aTQLo6mOysGFJPRaMpDiJF5cfdivz1gR6vh9LyyySlyEk6FEXkviDCdu9gl/8mYqIjyC9I4FxeANqiAC5dC6Doyk6UKhn6/4C/ARLPdIxRcU0pAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Catify\"\n        title=\"Catify\"\n        src=\"/static/431840ff947462316cb5e93d9a810e9d/fcda8/catify.png\"\n        srcset=\"/static/431840ff947462316cb5e93d9a810e9d/12f09/catify.png 148w,\n/static/431840ff947462316cb5e93d9a810e9d/e4a3f/catify.png 295w,\n/static/431840ff947462316cb5e93d9a810e9d/fcda8/catify.png 590w,\n/static/431840ff947462316cb5e93d9a810e9d/efc66/catify.png 885w,\n/static/431840ff947462316cb5e93d9a810e9d/c83ae/catify.png 1180w,\n/static/431840ff947462316cb5e93d9a810e9d/0ffd9/catify.png 2558w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>( <a href=\"https://catify.netlify.com/\">Demo</a> || <a href=\"https://github.com/teaware/catify\">Code</a> )</p>\n<p><strong>Note:</strong> æœ¬æ–‡ç”± <a href=\"https://scotch.io/tutorials/build-an-infinite-scroll-image-gallery-with-gatsby-and-netlify-functions\">Build an Infinite Scroll Image Gallery with Gatsby and Netlify Functions</a> ç¿»è¯‘è€Œæ¥ï¼Œæ•¬è¯·é˜…è¯»åŸæ–‡</p>\n<p>å¦‚ä»Šé™æ€é¡µé¢æˆ–è€… <a href=\"https://jamstack.org/\">JAMStack</a> è¿™æ ·çš„è§£è€¦å¼€å‘æ¶æ„çš„è¶‹åŠ¿å¦‚ä½•ï¼Ÿä¸ºä»€ä¹ˆè®¸å¤šé¡¶å°–çš„é¡µé¢å’Œåº”ç”¨ç¨‹åºå¼€å§‹è½¬å‘ä½¿ç”¨â€œé™æ€é¡µé¢ç”Ÿæˆå™¨â€æ„å»ºï¼Ÿå› ä¸ºå®ƒå¿«é€Ÿã€å®‰å…¨ã€ä½æˆæœ¬ã€å¼€å‘ä½“éªŒå¥½â€¦</p>\n<h3>TL;DR</h3>\n<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†</p>\n<ul>\n<li>åœ¨æœ¬åœ°å®‰è£…å¹¶è¿è¡Œ Gatsby</li>\n<li>åœ¨ Gatsby ä¸­åˆ›å»ºé¡µé¢</li>\n<li>åœ¨é¡µé¢ä¹‹é—´ä½¿ç”¨ç»Ÿä¸€çš„ layout</li>\n<li>åˆ›å»ºæ— é™æ»šåŠ¨å›¾ç‰‡å¢™</li>\n<li>åˆ›å»ºä¸€ä¸ª Netlify å‡½æ•°æ¥è·å–å›¾ç‰‡</li>\n<li>åœ¨æœ¬åœ°éƒ¨ç½²å¹¶ä½¿ç”¨ Netlify å‡½æ•°</li>\n<li>å°†è·å–çš„å›¾ç‰‡æ¸²æŸ“åˆ°ç½‘æ ¼å¸ƒå±€ä¸­</li>\n<li>é…ç½® netlify.toml</li>\n<li>éƒ¨ç½²åˆ° Netlify</li>\n</ul>\n<h3>ä¸ºä»€ä¹ˆä½¿ç”¨ Gatsby</h3>\n<p><a href=\"https://www.gatsbyjs.org/\">Gatsby</a> æ˜¯ä¸€ä¸ªå½“ä¸‹æ—¶é«¦çš„å¼€æºé™æ€é¡µé¢ç”Ÿæˆå™¨ã€‚å®ƒå…·å¤‡æ„å»ºé«˜æ€§èƒ½ã€å®‰å…¨ã€ä½æˆæœ¬ã€å¯éƒ¨ç½²çš„é¡µé¢çš„èƒ½åŠ›ã€‚åé¢çš„ä¸ç¿»è¯‘äº†ï¼Œæ€»ä¹‹å°±æ˜¯å¾ˆå¥½ ğŸ˜‚</p>\n<h3>ä¸ºä»€ä¹ˆä½¿ç”¨ Netlify</h3>\n<p><a href=\"https://www.netlify.com/\">Netlify</a> ä¸ºç°ä»£åº”ç”¨ç¨‹åºæä¾›äº†å¾ˆå¥½çš„éƒ¨ç½²ä½“éªŒï¼Œç›´è§‚ã€ä¾¿æ·ã€‚</p>\n<h3>å®‰è£…</h3>\n<p>æœ¬æ•™ç¨‹éœ€è¦æ‚¨å…·å¤‡ä¸€å®šçš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬ HTML, CSS, JavaScript, è¿˜æœ‰ React</p>\n<p>Node.js ä»¥åŠå®ƒçš„åŒ…ç®¡ç†å·¥å…· NPM æ˜¯å¿…éœ€çš„ï¼Œ è¯·ç¡®è®¤ä½ çš„æœºå™¨ä¸Šæ˜¯å¦å·²ç»å®‰è£…</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node -v <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> -v</code></pre></div>\n<p>æ­¤å‘½ä»¤ä¼šè¾“å‡º node å’Œ npm çš„ç‰ˆæœ¬å·ã€‚å¦‚æœæ²¡æœ‰å¦¥å–„å®‰è£…ï¼Œè¯·å‰å¾€ <a href=\"https://nodejs.org/\">Node.js</a> ä¸‹è½½å®‰è£…ã€‚</p>\n<p>å®‰è£… Gatsby CLI</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i -g gatsby-cli</code></pre></div>\n<p>ä¸€æ—¦ CLI å·¥å…·å®‰è£…å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å·¥ä½œè·¯å¾„ä¸‹åˆ›å»ºæ–°çš„ Gatsby é¡¹ç›®ï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gatsby new catify</code></pre></div>\n<p>è¯¥å‘½ä»¤ä¼šå…‹éš† Gatsby é»˜è®¤èµ·å§‹é¡µåˆ°ä½ çš„æŒ‡å®šæ–‡ä»¶å¤¹ï¼ŒåŒæ—¶å®‰è£…è¯¥é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–åŒ…ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥è¯¥ç›®å½•å¹¶å®‰è£…å‡ ä¸ªæ–°çš„ä¾èµ–</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> catify <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> i --save axios bulma react-infinite-scroll-component</code></pre></div>\n<p>å¦‚æ­¤ æˆ‘ä»¬å®‰è£…äº†</p>\n<ul>\n<li><a href=\"https://github.com/axios/axios\">Axios</a>: æŠŠ HTTP è¯·æ±‚è½¬åŒ–æˆ API çš„å·¥å…·</li>\n<li><a href=\"https://bulma.io/\">Bulma</a>: è½»é‡çš„ CSS æ¡†æ¶</li>\n<li><a href=\"https://www.npmjs.com/package/react-infinite-scroll-component\">React-inifinite-scroll-component</a>: ä¸€ä¸ªç®€å•å¯å®šåˆ¶çš„æ— é™æ»šåŠ¨ React éƒ¨ä»¶</li>\n</ul>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿è¡Œå¼€å‘ç¯å¢ƒæœåŠ¡å™¨ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gatsby develop</code></pre></div>\n<h3>é…ç½®é¡µé¢å¸ƒå±€</h3>\n<p>é¡µé¢å¸ƒå±€ä¼šè¢«è§†ä½œä¸€ä¸ªå¯å¤ç”¨éƒ¨ä»¶æ¥å¼€å‘ã€‚ <code class=\"language-text\">components/layout.js</code> æ–‡ä»¶ç›®å‰è¾“å‡ºçš„æ˜¯ Gatsby é»˜è®¤èµ·å§‹é¡µçš„å¸ƒå±€ã€‚æˆ‘ä»¬åˆ é™¤å®ƒåŸæ¥çš„æ‰€æœ‰å†…å®¹ï¼Œå¼•å…¥æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useStaticQuery<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">\"./header\"</span></code></pre></div>\n<p>è¿™é‡Œæˆ‘ä»¬å¼•å…¥äº† React, prop-types, useStaticQuery å’Œ GraphQL å…¶ä¸­ useStaticQuery æ˜¯åœ¨ Gatsby v2 ç‰ˆæœ¬æ‰å¼•è¿›çš„ï¼Œæ­£å› å¦‚æ­¤ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨éé¡µé¢éƒ¨ä»¶ä¹‹é—´ä½¿ç”¨ GraphQL æ•°æ®è¯·æ±‚ã€‚è¿™äº›æ•°æ®è·å–æ˜¯é™æ€çš„ä¸”å‘ç”Ÿåœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œæ‰€ä»¥ä½¿ç”¨é™æ€æŸ¥è¯¢ï¼ˆStatic Queryï¼‰è¿™ä¸ªæœ¯è¯­ã€‚</p>\n<p>åŒ…å«å¯¼èˆªæ çš„ <code class=\"language-text\">Header</code> éƒ¨ä»¶ï¼ˆæˆ‘ä»¬ç¨ååˆ›å»ºï¼‰ä¹Ÿè¢«å¼•å…¥ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆè¡¥å…¨ <code class=\"language-text\">Layout</code> éƒ¨ä»¶çš„å‰©ä½™ä»£ç </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Layout</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Header</span></span> <span class=\"token attr-name\">siteTitle</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n          margin<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">0 auto</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          maxWidth<span class=\"token operator\">:</span> <span class=\"token number\">900</span><span class=\"token punctuation\">,</span>\n          padding<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">0px 1.0875rem 1.45rem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          paddingTop<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nLayout<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  children<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Layout</code></pre></div>\n<p>è¿™é‡Œ <code class=\"language-text\">useStaticQuery</code> ç”¨äºä» siteMetadata è·å–é¡µé¢æ ‡é¢˜ï¼Œ<code class=\"language-text\">siteTitle</code> éšå³ä½œä¸ºå‚æ•°ä» header éƒ¨ä»¶ä¼ é€’è¿‡æ¥ã€‚\nä¸‹ä¸€æ­¥æˆ‘ä»¬æ‰“å¼€ä½äºæ ¹ç›®å½•çš„ <code class=\"language-text\">gatsby-config.js</code> æ–‡ä»¶ä¿®æ”¹é¡µé¢æ ‡é¢˜å’Œæè¿°</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Catify</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  description<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">A cat infinite scroll image gallery built with Gatsby, Netify &amp; Unsplash.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  author<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">@author</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç°åœ¨ç¼–è¾‘ <code class=\"language-text\">components/header.js</code> æ–‡ä»¶</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Header</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> siteTitle <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar is-dark<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> marginBottom<span class=\"token operator\">:</span> <span class=\"token string\">\"2em\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar-brand<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span>\n          <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            margin<span class=\"token operator\">:</span> <span class=\"token string\">\"0 auto\"</span><span class=\"token punctuation\">,</span>\n            padding<span class=\"token operator\">:</span> <span class=\"token string\">\"10px\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>has-text-white is-size-3<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> ğŸˆ\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Header</code></pre></div>\n<h3>åˆ›å»ºæ–°é¡µé¢</h3>\n<h4>é¦–é¡µ</h4>\n<p>åœ¨ <code class=\"language-text\">src/pages/index.js</code> æ–‡ä»¶ä¸­åˆ é™¤åŸæœ‰çš„ä»£ç å¼•å…¥ä¾èµ–é¡¹</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"bulma/css/bulma.min.css\"</span></span></code></pre></div>\n<p>æ³¨æ„ Bulma æ ·å¼æ–‡ä»¶çš„å¼•å…¥æ–¹å¼ï¼Œæ¥ä¸‹æ¥å®šä¹‰æ­¤éƒ¨ä»¶çš„å¯¼å‡ºéƒ¨åˆ†</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IndexPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SEO</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Home<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>has-text-centered<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> marginTop<span class=\"token operator\">:</span> <span class=\"token string\">\"20%\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>is-size-2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">æ¬¢è¿å…‰ä¸´ï¼...å–µçš„ä¸–ç•ŒğŸ˜¹</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button is-dark is-large<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> marginTop<span class=\"token operator\">:</span> <span class=\"token string\">\"10%\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/gallery<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>has-text-white<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          OK ğŸ‘Œ\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage</code></pre></div>\n<p>æˆ‘ä»¬ä½¿ç”¨äº† Bulma å†…å»ºçš„ class åç§°æ¥å®šä¹‰æ ·å¼</p>\n<h4>å›¾å†Œé¡µé¢</h4>\n<p>åœ¨åŒä¸€è·¯å¾„ <code class=\"language-text\">src/pages</code> ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª <code class=\"language-text\">gallery.js</code> æ–‡ä»¶ã€‚ä¸é¦–é¡µç±»ä¼¼ï¼Œæˆ‘ä»¬å¼•å…¥ç„¶åå¯¼å‡ºâ€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"token keyword\">import</span> InfiniteImages <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/InfiniteImages\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Gallery</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SEO</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Gallery<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>is-size-5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> marginBottom<span class=\"token operator\">:</span> <span class=\"token string\">\"1.0875rem\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        å¦‚ä»Šçš„ä¸›æ—æ³•åˆ™ï¼Œå°±åƒå¤è€è€ŒåˆçœŸå®çš„å¤©ç©ºï¼Œæ˜¯è¿™æ ·çš„ï¼Œè¶Šå¾€ä¸‹ç¿»ï¼Œä½ å°±ä¼šçœ‹åˆ°è¶Šå¤šçŒ«å’ªğŸ˜¹ğŸ˜¹ğŸ˜¹\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">InfiniteImages</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Gallery</code></pre></div>\n<h3>åˆ›å»ºå›¾ç‰‡é›†</h3>\n<p>ä½¿ç”¨ Gatsby è¿™æ ·çš„å·¥å…·å¥½å¤„åœ¨äºæˆ‘ä»¬å¯ä»¥åœ¨éƒ¨ä»¶ä¹‹é—´å‘èµ· API è¯·æ±‚ï¼Œå¹¶åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æŠŠæ•°æ®ä¼ é€’åˆ° DOM è®©ä½ åœ¨é™æ€å·¥ä½œç¯å¢ƒä¸­æœ‰ç§å¼‚æ­¥å¼€å‘çš„çˆ½å¿«æ„Ÿã€‚æˆ‘ä»¬å°†ä» <a href=\"https://unsplash.com/\">Unsplash</a> è·å–å›¾ç‰‡ï¼Œç”¨ <code class=\"language-text\">react-infinite-scroll-component</code> å®ç°æ— é™æ»šåŠ¨ã€‚</p>\n<p>åœ¨ <code class=\"language-text\">src/components</code> è·¯å¾„ä¸‹æ–°å»ºæ–‡ä»¶ <code class=\"language-text\">InfiniteImages.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n<span class=\"token keyword\">import</span> InfiniteScroll <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-infinite-scroll-component\"</span></code></pre></div>\n<p>è¿™ä¸ªå›¾ç‰‡é›†æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªéƒ¨ä»¶</p>\n<ol>\n<li>ä¸€ä¸ªéƒ¨ä»¶ä½œä¸ºå±•ç¤ºå›¾ç‰‡é›†çš„è§†å›¾</li>\n<li>ä¸€ä¸ªéƒ¨ä»¶å¤„ç†çŠ¶æ€ï¼Œæ•°æ®æŠ“å–å¹¶ä¼ é€’åˆ°å›¾ç‰‡é›†è§†å›¾</li>\n</ol>\n<p>è¿™äº›éƒ¨ä»¶å¯ä»¥æ‹†åˆ†æˆæ›´å¤šå­éƒ¨ä»¶ï¼Œä½†ä¸ºäº†ç®€å•èµ·è§æˆ‘ä»¬å°±ä¿ç•™è¿™ä¸¤ä¸ªéƒ¨ä»¶å¹¶ä¸”æŠŠå®ƒä»¬å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œ\nåœ¨ <code class=\"language-text\">InfiniteImages.js</code> é‡Œåˆ›å»ºä¸€ä¸ªåä¸º <code class=\"language-text\">ImageGallery</code> çš„éƒ¨ä»¶ã€‚è¿™ä¸ªå°±æ˜¯å›¾ç‰‡é›†è§†å›¾</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ImageGallery</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> images<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">,</span> fetchImages <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Create gallery here</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">InfiniteScroll</span></span>\n      <span class=\"token attr-name\">dataLength</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>images<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">next</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetchImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">hasMore</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">loader</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> textAlign<span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span> marginTop<span class=\"token operator\">:</span> <span class=\"token string\">\"1%\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          æ›´å¤šé˜¿çŒ«è¦æ¥äº† ğŸˆğŸˆ...\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">endMessage</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> textAlign<span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span> marginTop<span class=\"token operator\">:</span> <span class=\"token string\">\"1%\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">æ²¡äº†æ²¡äº†ğŸ˜¸</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image-grid<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>loading\n          <span class=\"token operator\">?</span> images<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image-item<span class=\"token punctuation\">\"</span></span>\n                <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> backgroundColor<span class=\"token operator\">:</span> image<span class=\"token punctuation\">.</span>color <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n              <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">.</span>regular<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>alt_description<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">InfiniteScroll</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>åœ¨ç›¸åŒè·¯å¾„ä¸‹ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª <code class=\"language-text\">gallery.css</code> æ–‡ä»¶æ¥å®šä¹‰å›¾ç‰‡é›†çš„æ ·å¼</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.image-grid</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> grid<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">grid-gap</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">grid-template-columns</span><span class=\"token punctuation\">:</span> <span class=\"token function\">repect</span><span class=\"token punctuation\">(</span>auto-fill<span class=\"token punctuation\">,</span> <span class=\"token function\">minmax</span><span class=\"token punctuation\">(</span>250px<span class=\"token punctuation\">,</span> 1fr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">grid-auto-rows</span><span class=\"token punctuation\">:</span> <span class=\"token function\">minmax</span><span class=\"token punctuation\">(</span>50px<span class=\"token punctuation\">,</span> auto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-perspective</span><span class=\"token punctuation\">:</span> 1300px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">perspective</span><span class=\"token punctuation\">:</span> 1300px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.image-grid .image-item:nth-child(5n)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">grid-column-end</span><span class=\"token punctuation\">:</span> span 2<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.image-grid img</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">object-fit</span><span class=\"token punctuation\">:</span> cover<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç„¶åæŠŠå®ƒå¼•å…¥åˆ° <code class=\"language-text\">InfiniteImages.js</code> æ–‡ä»¶</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"./gallery.css\"</span></code></pre></div>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ <code class=\"language-text\">InfiniteImages.js</code> æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code class=\"language-text\">InfiniteImages</code> çš„éƒ¨ä»¶\nè¿™ä¸ªéƒ¨ä»¶ä¼šç”¨åˆ° React çš„ <code class=\"language-text\">useState</code> å’Œ <code class=\"language-text\">useEffect</code> é’©å­æ¥å¤„ç†çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸã€‚Axios ä¹Ÿä¼šè¢«ç”¨äºå‘èµ· HTTP è¯·æ±‚ã€‚éœ€è¦å¼•å…¥å®ƒä»¬ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">\"axios\"</span></code></pre></div>\n<p>å¼•å…¥ä¹‹åï¼Œå®Œæˆå®šä¹‰ <code class=\"language-text\">InfiniteImages</code> éƒ¨ä»¶ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">InfiniteImages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Hold state</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>images<span class=\"token punctuation\">,</span> setImages<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>loading<span class=\"token punctuation\">,</span> setLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Fetch images on component mount</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fetchImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Fetch Images from functions</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchImages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/.netlify/functions/fetch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>images<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ImageGallery</span></span> <span class=\"token attr-name\">images</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>images<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">loading</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>loading<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">fetchImages</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>fetchImages<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æŒ‡å®š <code class=\"language-text\">ImageGallery</code> çš„å‚æ•°ç±»å‹ï¼ˆPrototypesï¼‰å¹¶ export <code class=\"language-text\">InfiniteImage</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span><span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ImageGallery</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> images<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">,</span> fetchImages <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Create gallery here</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// Component logic here</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">InfiniteImages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Component logic here</span>\n<span class=\"token punctuation\">}</span>\n\nImageGallery<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  images<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">,</span>\n  loading<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>bool<span class=\"token punctuation\">,</span>\n  fetchImages<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>func<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> InfiniteImages</code></pre></div>\n<h3>åˆ›å»º Netlify å‡½æ•°</h3>\n<h4>å®‰è£…å‡½æ•°æ„å»ºå·¥å…·</h4>\n<p><code class=\"language-text\">netlify-lambda</code> CLI å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œå‡½æ•°ä¹Ÿå¯ä»¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… netlify-lambda</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i -g netlify-lambda</code></pre></div>\n<h4>å®šä¹‰ Fetch å‡½æ•°</h4>\n<p>åœ¨ <code class=\"language-text\">src</code> è·¯å¾„ä¸‹æ–°å»º <code class=\"language-text\">lambda</code> æ–‡ä»¶å¤¹ã€‚åœ¨æ ¹ç›®å½•æ–°å»º <code class=\"language-text\">netlify.toml</code> æ–‡ä»¶å¹¶å†™å…¥</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">build</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">Functions</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"functions\"</span></code></pre></div>\n<p>ç„¶å <code class=\"language-text\">src/lambda</code> ä¸‹æ–°å»º <code class=\"language-text\">fetch.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">\"axios\"</span>\n<span class=\"token keyword\">import</span> config <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../config\"</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handler</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event<span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> apiRoot <span class=\"token operator\">=</span> <span class=\"token string\">\"https://api.unsplash.com\"</span>\n  <span class=\"token keyword\">const</span> accessKey <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_KEY</span> <span class=\"token operator\">||</span> config<span class=\"token punctuation\">.</span>accessKey\n\n  <span class=\"token keyword\">const</span> catEndpoint <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiRoot<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/photos/random?client_id=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>accessKey<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&amp;count=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">10</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&amp;collections='4365121,1043053'</span><span class=\"token template-punctuation string\">`</span></span>\n\n  axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>catEndpoint<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      statusCode<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n      body<span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        images<span class=\"token operator\">:</span> res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>åœ¨æ ¹ç›®å½•æ–°å»º <code class=\"language-text\">config.js</code> æ–‡ä»¶ä¿å­˜ä» Unsplash ç”Ÿæˆçš„ API å¯†é’¥</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  accessKey<span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;Add access key>\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> config</code></pre></div>\n<p>ç¡®ä¿ä½ æŠŠè¯¥æ–‡ä»¶æ·»åŠ åˆ° <code class=\"language-text\">.gitignore</code> ä»¥å…è¢«æ·»åŠ åˆ°ä½ çš„ repo\nåœ¨æœ¬åœ°è¿è¡ŒæœåŠ¡å™¨</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">netlify-lambda serve src/lambda</code></pre></div>\n<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href=\"http://localhost:9000/fetch\"><code class=\"language-text\">http://localhost:9000/fetch</code></a> å¯ä»¥çœ‹åˆ°ä» API è·å¾—çš„æ•°æ®\nè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œåˆ›å»º build ç‰ˆæœ¬ä»¥ä¾¿äºéƒ¨ç½²</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">netlify-lambda build src/lambda</code></pre></div>\n<h4>åœ¨æœ¬åœ°è¿è¡Œ</h4>\n<p>åœ¨æœ¬åœ°å¼€å‘ç¯æ‰§è¡Œ API è¯·æ±‚ä¼šé‡åˆ° CORS é”™è¯¯ï¼Œé‚£ä¹ˆ <a href=\"https://github.com/chimurai/http-proxy-middleware\">http-proxy-middleware</a> ä¼šè§£å†³æˆ‘ä»¬çš„éš¾é¢˜ä¹ˆï¼Ÿ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i --save-dev http-proxy-middleware</code></pre></div>\n<p>åœ¨ <code class=\"language-text\">gatsby-config.js</code> ä¸­</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> proxy <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http-proxy-middleware\"</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// define site metadata</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// Enables the use of function URLs locally</span>\n  <span class=\"token function-variable function\">developMiddleware</span><span class=\"token operator\">:</span> <span class=\"token parameter\">app</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"/.netlify/functions/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">proxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        target<span class=\"token operator\">:</span> <span class=\"token string\">\"http://localhost:9000\"</span><span class=\"token punctuation\">,</span>\n        pathRewrite<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"/.netlify/functions/\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// define plugins</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç„¶ååœ¨ <code class=\"language-text\">src/components/InfiniteImages.js</code> ä¸­</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token comment\">// ...</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ImageGallery</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> images<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">,</span> fetchImages <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Component logic here</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">InfiniteImages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Hold state</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>images<span class=\"token punctuation\">,</span> setImages<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>loading<span class=\"token punctuation\">,</span> setLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Fetch images on component mount</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fetchImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Fetch Images from functions</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchImages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/.netlify/functions/fetch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>images<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ImageGallery</span></span> <span class=\"token attr-name\">images</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>images<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">loading</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>loading<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">fetchImages</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>fetchImages<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nImageGallery<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Define proptypes</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> InfiniteImages</code></pre></div>\n<p>é‡å¯ Gatsby æœ¬åœ°æœåŠ¡å™¨ æ­¤æ—¶åœ¨æœ¬åœ°ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ app æ­£å¸¸è¿è¡Œäº†</p>\n<h3>éƒ¨ç½²åˆ° Netlify</h3>\n<p>ä¸¤ä¸ª build åŠ¨ä½œ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">netlify-lambda build src/lambda</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gatsby build</code></pre></div>\n<h4>æ¨é€åˆ° GitHub</h4>\n<p>åœ¨ <a href=\"https://github.com/\">GitHub</a> æ–°å»ºä¸€ä¸ª repo ç„¶åæ¨é€â€¦</p>\n<h4>Netlify</h4>\n<p>åœ¨ <a href=\"https://www.netlify.com/\">Netlify</a> åˆ›å»ºè´¦æˆ·ï¼Œç„¶åç‚¹å‡» â€œNew site from Gitâ€ æŒ‰é’®ï¼Œéƒ¨ç½²è¿‡ç¨‹éå¸¸ç®€å•ï¼Œè‡ªå·±ç ”ç©¶å§ã€‚</p>\n<p>( <a href=\"https://catify.netlify.com/\">Demo</a> || <a href=\"https://github.com/teaware/catify\">Code</a> )</p>","frontmatter":{"title":"Build an Infinite Scroll Image Gallery with Gatsby & Netlify","date":"August 21, 2019","spoiler":"Here comes an other one ","tags":["Gatsby","Netlify","infinite-scroll","JAMStack"]}}},"pageContext":{"slug":"gatsby-netlify"}},"staticQueryHashes":["2589769190","3074981077"]}